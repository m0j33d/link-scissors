{"ast":null,"code":"import axios from\"axios\";import{store}from\"../redux/store\";var SET_LOGGED_IN=\"setLoggedOut\";var SET_ALERT_DETAILS=\"setAlert\";export var authService=function authService(){axios.interceptors.response.use(function(response){// Any status code that lie within the range of 2xx cause this function to trigger\n// Do something with response data\nreturn response;},function(error){// Any status codes that falls outside the range of 2xx cause this function to trigger\n// Do something with response error\nif(error.response.status===401){store.dispatch({type:SET_LOGGED_IN,payload:false});}return Promise.reject(error);});};export var showAlert=function showAlert(details){setAlertDetails(details);setTimeout(function(){return setAlertDetails(null);},5000);};export var setAlertDetails=function setAlertDetails(data){store.dispatch({type:SET_ALERT_DETAILS,payload:data});};","map":{"version":3,"names":["axios","store","SET_LOGGED_IN","SET_ALERT_DETAILS","authService","interceptors","response","use","error","status","dispatch","type","payload","Promise","reject","showAlert","details","setAlertDetails","setTimeout","data"],"sources":["/Users/user/node-projects/URL-shortener/src/utils/utils.ts"],"sourcesContent":["import axios from \"axios\";\nimport { store } from \"../redux/store\";\n\n\nconst SET_LOGGED_IN = \"setLoggedOut\";\nconst SET_ALERT_DETAILS = \"setAlert\";\n\nexport const authService = () => {\n  axios.interceptors.response.use(\n    function (response) {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      return response;\n    },\n    function (error) {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n      if (error.response.status === 401) {\n        store.dispatch({\n          type: SET_LOGGED_IN,\n          payload: false,\n        });\n      }\n\n      return Promise.reject(error);\n    }\n  );\n};\n\nexport const showAlert = (details : any) => {\n  setAlertDetails(details);\n\n  setTimeout(() => setAlertDetails(null), 5000);\n}; \n\nexport const setAlertDetails = (data : {type: string , msg:string} | null) => {\n  store.dispatch({\n    type: SET_ALERT_DETAILS,\n    payload: data,\n  });\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,gBAAgB,CAGtC,GAAM,CAAAC,aAAa,CAAG,cAAc,CACpC,GAAM,CAAAC,iBAAiB,CAAG,UAAU,CAEpC,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CAC/BJ,KAAK,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7B,SAAUD,QAAQ,CAAE,CAClB;AACA;AACA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CACD,SAAUE,KAAK,CAAE,CACf;AACA;AACA,GAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CACjCR,KAAK,CAACS,QAAQ,CAAC,CACbC,IAAI,CAAET,aAAa,CACnBU,OAAO,CAAE,KACX,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC,CAC9B,CACF,CAAC,CACH,CAAC,CAED,MAAO,IAAM,CAAAO,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,OAAa,CAAK,CAC1CC,eAAe,CAACD,OAAO,CAAC,CAExBE,UAAU,CAAC,iBAAM,CAAAD,eAAe,CAAC,IAAI,CAAC,GAAE,IAAI,CAAC,CAC/C,CAAC,CAED,MAAO,IAAM,CAAAA,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIE,IAAyC,CAAK,CAC5ElB,KAAK,CAACS,QAAQ,CAAC,CACbC,IAAI,CAAER,iBAAiB,CACvBS,OAAO,CAAEO,IACX,CAAC,CAAC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}