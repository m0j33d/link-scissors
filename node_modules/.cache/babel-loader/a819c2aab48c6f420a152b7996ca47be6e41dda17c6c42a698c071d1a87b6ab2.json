{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/node-projects/URL-shortener/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/node-projects/URL-shortener/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/node-projects/URL-shortener/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import{Navigate,Link}from\"react-router-dom\";import{useState}from\"react\";import{register}from\"../services/auth\";import{store}from\"../redux/store\";import LinkScissorLogo from'../assets/images/logo.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var logged_in=store.getState().logged_in;var formik=useFormik({initialValues:{name:\"\",email:\"\",password:\"\"},validationSchema:Yup.object({name:Yup.string().required(\" full name is requied field\"),email:Yup.string().required(\"email is requied field\").email(\"please enter correct email\"),password:Yup.string().required(\"password is required\").min(6,\"password must be of 6 characters\")}),onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return register(values);case 3:res=_context.sent;if(res.status){_context.next=6;break;}return _context.abrupt(\"return\");case 6:setRedirect(true);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});if(logged_in)return/*#__PURE__*/_jsx(Navigate,{to:\"/shortner\"});if(redirect)return/*#__PURE__*/_jsx(Navigate,{to:\"/shortner\"});var values=formik.values,errors=formik.errors,submitForm=formik.submitForm,isSubmitting=formik.isSubmitting,handleChange=formik.handleChange;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"conatiner flex flex-col w-screen h-screen \",children:/*#__PURE__*/_jsxs(\"section\",{className:\"m-auto text-center md:w-96 max-w-2xl\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"flex justify-center my-6\",children:/*#__PURE__*/_jsx(\"img\",{src:LinkScissorLogo,className:\"w-24 h-24\",alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\" Create your LinkScissors account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-thin\",children:\"Best link shortner at your fingertip\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col my-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"name\",name:\"name\",className:\"form-input\",onChange:handleChange,value:values.name}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"email\",name:\"email\",className:\"form-input\",onChange:handleChange,value:values.email}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:values.password,name:\"password\",type:\"password\",className:\"form-input\",placeholder:\"password\",onChange:handleChange}),errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"button\",{className:\"button my-4\",onClick:function onClick(){submitForm();},children:isSubmitting?\"loading...\":\"Submit\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400 font-light py-2 text-base\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"underline text-blue-900 hover:text-slate-400\",children:\" Sign in\"})]})]})})});}","map":{"version":3,"names":["useFormik","Yup","Navigate","Link","useState","register","store","LinkScissorLogo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","_useState","_useState2","_slicedToArray","redirect","setRedirect","logged_in","getState","formik","initialValues","name","email","password","validationSchema","object","string","required","min","onSubmit","_onSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","res","wrap","_callee$","_context","prev","next","sent","status","abrupt","t0","console","log","stop","_x","apply","arguments","to","errors","submitForm","isSubmitting","handleChange","children","className","href","src","alt","htmlFor","placeholder","onChange","value","type","onClick"],"sources":["/Users/user/node-projects/URL-shortener/src/pages/Register.tsx"],"sourcesContent":["import { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Navigate, Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport { register } from \"../services/auth\";\nimport { store } from \"../redux/store\";\nimport LinkScissorLogo from '../assets/images/logo.svg';\n\n\nexport default function Register() {\n    const [redirect, setRedirect] = useState(false);\n    const logged_in =  store.getState().logged_in;\n\n    const formik = useFormik({\n        initialValues: {\n            name: \"\",\n            email: \"\",\n            password: \"\"\n        },\n        validationSchema: Yup.object({\n            name: Yup.string()\n                .required(\" full name is requied field\"),\n            email: Yup.string()\n                .required(\"email is requied field\")\n                .email(\"please enter correct email\"),\n            password: Yup.string()\n                .required(\"password is required\")\n                .min(6, \"password must be of 6 characters\")\n        }),\n        onSubmit: async (values) => {\n            try {\n                const res = await register(values);\n                if (!res.status) return;\n\n                setRedirect(true);\n            } catch (error) {\n                console.log(error)\n            }\n\n        }\n    })\n    if (logged_in) return <Navigate to=\"/shortner\" />\n\n    if (redirect) return <Navigate to=\"/shortner\" />;\n\n\n    const { values, errors, submitForm, isSubmitting, handleChange } = formik;\n\n    return (\n        <>\n            <div className=\"conatiner flex flex-col w-screen h-screen \">\n                <section className=\"m-auto text-center md:w-96 max-w-2xl\">\n                <a href=\"/\" className='flex justify-center my-6'>\n                        <img src={LinkScissorLogo} className=\"w-24 h-24\" alt=\"Logo\" />\n                    </a>\n\n                    <h2> Create your LinkScissors account</h2>\n                    <p className=\"font-thin\">\n                        Best link shortner at your fingertip\n                    </p>\n\n                    <div className=\"flex flex-col my-8\">\n                        <label htmlFor=\"name\" className=\"form-label\" >Full Name</label>\n                        <input\n                            placeholder=\"name\"\n                            name=\"name\"\n                            className=\"form-input\"\n                            onChange={handleChange}\n                            value={values.name}\n                        />\n\n                        <label htmlFor=\"email\" className=\"form-label\" >Email</label>\n                        <input\n                            placeholder=\"email\"\n                            name=\"email\"\n                            className=\"form-input\"\n                            onChange={handleChange}\n                            value={values.email}\n                        />\n                        {errors.email && <span className=\"error\">{errors.email}</span>}\n\n                        <label htmlFor=\"password\" className=\"form-label\" >Password</label>\n                        <input\n                            value={values.password}\n                            name=\"password\"\n                            type=\"password\"\n                            className=\"form-input\"\n                            placeholder=\"password\"\n                            onChange={handleChange}\n                        />\n                        {errors.password && <span className=\"error\">{errors.password}</span>}\n\n                        <button\n                            className=\"button my-4\"\n                            onClick={() => {\n                                submitForm();\n                            }}\n                        >\n                            {isSubmitting ? \"loading...\" : \"Submit\"}\n                        </button>\n                    </div>\n\n                    <p className=\"text-slate-400 font-light py-2 text-base\">Already have an account? <Link to=\"/login\" className=\"underline text-blue-900 hover:text-slate-400\"> Sign in</Link></p>\n\n                </section>\n\n            </div>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}